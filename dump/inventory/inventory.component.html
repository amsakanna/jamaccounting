<div class="container">
	<jam-bounce-spinner *ngIf="$.loading"></jam-bounce-spinner>
	<div class="component floating-box" [class.blur]="$.loading">
		<header class="title-box"> Inventory </header>
		<section class="list">
			<main>
				<mat-nav-list>
					<mat-list-item *ngFor="let item of $.list"
						[class.active]="item.key == $.selectedItem?.key"
						(click)="$.select( item )">
						{{ item.name }}
					</mat-list-item>
				</mat-nav-list>
			</main>
			<footer class="flex-center">
				<button mat-raised-button color="primary"
					class="add-button small"
					(click)="$.create()">
					<span> New Item </span>
				</button>
			</footer>
		</section>
		<section class="detail">
			<header *ngIf="$.selectedItem">
				<div class="title">
					<div class="item-name">{{ $.selectedItem.name }}</div>
				</div>
				<div class="action">
					<button mat-button color="primary"
						(click)="$.edit()">
						<mat-icon> edit </mat-icon>
					</button>
					<button mat-button color="warn"
						(click)="$.remove( $.selectedItem.key )">
						<mat-icon> delete </mat-icon>
					</button>
				</div>
			</header>
			<main *ngIf="$.selectedItem">
				<router-outlet></router-outlet>
			</main>
		</section>
	</div>
</div>